---
output: 
  pdf_document
geometry: margin=0.5in
---

```{r echo=FALSE}
library(pander)
```

```{r echo=FALSE, warning=FALSE}
if (!exists("applicants")) {
    applicants <- readRDS("applicants.Rds")
}

app.id <- applicants$cas_id[i]
app.name <- paste(applicants$last_name[i], applicants$first_name[i], sep = ", ")
school <- applicants$school[i]

if (applicants$gpa_collected[i] == TRUE) {
    gpa <- applicants$gpa[i]
} else {
    gpa <- "No GPA"
}

grad.date <- applicants$graduation_date[i]
    
if (!exists("interests")) {
    interests <- readRDS("interests.Rds")
}

app.interest <- interests[interests$cas_id == app.id, "interest"]
    
if (!exists("lor")) {
    lor <- readRDS("lor.Rds")
}

recs <- lor[lor$cas_id == app.id, ]
# time.mgmt <- lor[lor$cas_id == app.id & lor$quality == "time_management", "comment"]
# prob.solve <- lor[lor$cas_id == app.id & lor$quality == "clinical_problem_solving_skills", "comment"]
# independ <- lor[lor$cas_id == app.id & lor$quality == "independence", "comment"]
# mature <- lor[lor$cas_id == app.id & lor$quality == "emotional_maturity", "comment"]

if (!exists("intent")) {
    intent <- readRDS("intent.Rds")
}
loi <- intent[intent$cas_id == app.id, ]

if (!exists("cv")) {
    cv <- readRDS("cv.Rds")
}
cv.data <- cv[cv$cas_id == app.id, ]

if (!exists("app.scores")) {
    app.scores <- readRDS("app.scores.Rds")
}
score <- app.scores[app.scores$cas_id == app.id, ]

if (!exists("vidyo")) {
    vidyo <- readRDS("vidyo.Rds")
}
video <- vidyo[vidyo$cas_id == app.id, ]
```

## `r app.name` - `r school` 

GPA: `r gpa`; Graduation Date: `r grad.date`

Interests: `r app.interest`

### Letter of Intent
```{r echo=FALSE}
loi.attrib <- c("Motivation for residency", "Expectating to get from residency", "Contributions to hospital", "Career goals", "Other statements")
loi.score <- c(score$motivation_score, score$expectations_score, score$contributions_score, score$goals_score, NA)
loi.comment <- c(loi$motivation, loi$expectations, loi$contributions, loi$goals, loi$other_letter)

loi.table <- data.frame(Attribute = loi.attrib, Score = loi.score, Statement = loi.comment)
pander(loi.table)
```

### CV


### References

#### Time Management 
```{r echo=FALSE}
# pander(as.list(time.mgmt))
```

#### Problem Solving
```{r echo=FALSE}
# pander(as.list(prob.solve))
```

#### Independence
```{r echo=FALSE}
# pander(as.list(independ))
```

#### Maturity
```{r echo=FALSE}
# pander(as.list(mature))
```
